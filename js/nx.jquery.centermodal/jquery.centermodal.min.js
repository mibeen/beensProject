!function($,window,document,undefined){$.centermodal={init:function(e){try{var i=this;i.ver=function(){return"2.0.0"},i.ismobile=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},i.isios=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},i.isandroid=function(){return/Android/i.test(navigator.userAgent)},i.ischrome=function(){return/Chrome/i.test(navigator.userAgent)},i.getdomain=function(e){if(""!=e){var i=new RegExp(/^(file|gopher|news|nntp|telnet|https?|ftps?|sftp):\/\/([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/),t=i.test(e);if(t){var o;return o=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],o=o.split(":")[0]}return document.domain}},i.$d=$(document),i.$w=$(window),i.st=[],i.mask="centermodal_mask",i.modal="centermodal",i.mode="id",i.id="",i.ifr="centermodal_if",i.ifrurl="centermodal_ifurl",i.cd_mask='<div id="'+i.mask+'" class="ctmodal_mask"></div>',i.cd_modal='<div id="'+i.modal+'" class="ctmodal" style="display:none"><div class="top"><p data-id="title" class="tit">&nbsp;</p><a data-id="close" href="javascript:void(0)" class="cls"><span></span><span></span></a></div><div class="ct" data-id="cont"><div data-id="loading" class="loading_ani1"><span></span><span></span><span></span><span></span></div></div></div>',i.orientation=null,i.pre_v_top=i.$w.scrollTop(),i.initialized=!0,i.device,$("body").prepend(i.cd_mask+i.cd_modal),i.$mask=$("#"+i.mask),i.$modal=$("#"+i.modal),i.$title=$("#centermodal").find('[data-id="title"]'),i.$close=$("#centermodal").find('[data-id="close"]'),i.$content=$("#centermodal").find('[data-id="cont"]'),i.$loading=$("#centermodal").find('[data-id="loading"]'),i.onclose="",i.isios()?i.device="ios":i.isandroid()?i.device="android":i.device="other",i.mode=""!=e.id?"id":"iframe"}catch(e){console.error(e.message)}},open:function(e){try{var i=this;null==i.initialized&&i.init(e),function(e){switch(window.orientation){case-90:case 90:i.orientation="landscape";break;default:i.orientation="portrait"}}(jQuery);var t={title:"",url:"",id:"",ww:"800px",hh:"600px",mww:"90%",mhh:"90%",limitww:984,limithh:768,onclose:""},e=$.extend({},t,e);e.ww.indexOf("%")>-1&&(e.ww=e.limitww+"px"),e.hh.indexOf("%")>-1&&(e.hh=e.limithh+"px"),parseInt(e.ww.replace(/px/g,""))>e.limitww&&(e.ww=e.limitww+"px"),parseInt(e.hh.replace(/px/g,""))>e.limithh&&(e.hh=e.limithh+"px");var o={};o="100%"==e.mww&&"100%"==e.mhh?{width:"",height:"",maxWidth:"100%",maxHeight:"100%",borderRadius:"0px"}:{width:e.ww,height:e.hh,maxWidth:e.mww,maxHeight:e.mhh,borderRadius:"6px"},i.$modal.css(o),i.ischrome()&&i.$modal.css({boxShadow:"0px 0px 0px #000"});var n=i.getdomain(e.url);i.$title.text(""!=e.title?e.title:n),i.id=e.id,i.mode=""!=i.id?"id":"iframe","id"==i.mode,i.onclose=e.onclose,i.$mask.fadeIn("fast",function(){i.$modal.fadeIn("fast",function(){if("id"==i.mode){var t=$("#"+i.id);if(!(t.length>0))return void alert("Target element not exists!");var o=t;t.replaceWith('<div id="centermodal_holder_'+i.id+'" style="display:none"></div>'),i.$content.append(o),t.show(),i.$loading.hide()}else{var n='<iframe id="'+i.ifr+'" name="'+i.ifr+'" src="" width="100%" frameborder="0"></iframe>',a='<input type="hidden" id="'+i.ifrurl+'" name="'+i.ifrurl+'" value="" />';i.$content.append(n+a),i.$ifr=$("#"+i.ifr),i.$ifrurl=$("#"+i.ifrurl),document.getElementById(i.ifr).onload=function(){i.$loading.hide()},i.$ifr.attr({src:e.url}),i.$ifrurl.val(e.url)}})}),i.evton();var a=i.$w.scrollTop();i.pre_v_top<=0&&(i.pre_v_top=a),a!=i.pre_v_top&&(a=i.pre_v_top),$("body").css({position:"fixed",top:a*-1+"px",width:"100%",height:"100%",margin:"0px"})}catch(e){console.error(e.message)}},close:function(){try{var Z=this;if(null==Z.$modal||Z.$modal.is(":hidden"))return;Z.$modal.fadeOut("fast",function(){if(Z.$title.text(""),Z.$loading.show(),"id"==Z.mode){var $el=$("#"+Z.id),$holder_el=$(document.getElementById("centermodal_holder_"+Z.id));if(!($el.length>0&&$holder_el.length>0))return void alert("Original/Holder element not exists!");$holder_el.replaceWith($el),$el.hide()}else Z.$ifr.remove(),Z.$ifrurl.remove();if(""!=Z.onclose)try{eval(Z.onclose)}catch(e){}}),Z.$mask.fadeOut("fast"),$("body").css({position:"",top:"",width:"",height:""}),window.scrollTo(0,Z.pre_v_top),Z.pre_v_top=0,Z.evtoff()}catch(e){console.error(e.messsage)}},evton:function(){try{var e=this;e.$close.off().on("click",function(){e.close()}),e.$mask.off().on({click:function(){e.close()},_orientationchange:function(){switch(window.orientation){case-90:case 90:e.orientation="landscape";break;default:e.orientation="portrait"}},_keyup:function(i,t){27==t.keyCode&&e.close()}}),e.$w.on({orientationchange:function(){e.$mask.is(":visible")&&e.$mask.trigger("_orientationchange")},keyup:function(i){e.$mask.is(":visible")&&e.$mask.trigger("_keyup",[{keyCode:i.keyCode}])}})}catch(e){console.error(e.message)}},evtoff:function(){try{var e=this;e.$close.off(),e.$mask.off(),e.$modal.off()}catch(e){console.error(e.message)}}}}(jQuery,window,document);